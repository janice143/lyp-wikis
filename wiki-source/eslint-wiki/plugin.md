# **ç¬¬å››ç« ï¼šESLint æ’ä»¶ä¸æ‰©å±•**

ESLint æä¾›äº†ä¸°å¯Œçš„æ’ä»¶å’Œæ‰©å±•ï¼Œä½¿å¾—å¼€å‘è€…èƒ½å¤Ÿåœ¨è§„åˆ™é›†çš„åŸºç¡€ä¸Šè¿›è¡Œ**å®šåˆ¶åŒ–**é…ç½®ï¼Œé€‚åº”ä¸åŒé¡¹ç›®çš„éœ€æ±‚ã€‚æœ¬ç« å°†ä»‹ç»å¦‚ä½•ä½¿ç”¨ ESLint æ’ä»¶å’Œæ‰©å±•ï¼Œå¦‚ä½•é…ç½®å’Œç®¡ç†æ’ä»¶ï¼ŒåŠå¦‚ä½•åˆ›å»ºå’Œä½¿ç”¨è‡ªå®šä¹‰è§„åˆ™é›†ã€‚

## **1. æ’ä»¶çš„ä½¿ç”¨**

**ESLint æ’ä»¶**æ˜¯å¢å¼º ESLint åŠŸèƒ½çš„å·¥å…·ï¼Œå®ƒä»¬å¯ä»¥å¸®åŠ© ESLint è¿›è¡Œæ›´ç»†ç²’åº¦çš„ä»£ç æ£€æŸ¥ï¼Œé€šå¸¸ç”¨äºæ£€æŸ¥ç‰¹å®šè¯­è¨€ã€æ¡†æ¶æˆ–åº“çš„ä»£ç é£æ ¼å’Œæœ€ä½³å®è·µã€‚

### **1.1 æ’ä»¶çš„å®‰è£…ä¸ä½¿ç”¨**

ESLint æ’ä»¶æ˜¯é€šè¿‡ npm å®‰è£…å¹¶ä¸ ESLint é…åˆä½¿ç”¨çš„ã€‚å¤§éƒ¨åˆ†æ’ä»¶éƒ½æ˜¯ä½œä¸º `eslint-plugin-<name>` çš„å½¢å¼å‘å¸ƒçš„ã€‚

#### **1.1.1 å®‰è£… ESLint æ’ä»¶**

```bash
# å®‰è£… eslint-plugin-react
npm install --save-dev eslint-plugin-react

# å®‰è£… eslint-plugin-import
npm install --save-dev eslint-plugin-import
```

#### **1.1.2 é…ç½® ESLint æ’ä»¶**

åœ¨ `.eslintrc` é…ç½®æ–‡ä»¶ä¸­ï¼Œä½¿ç”¨ `plugins` é…ç½®é¡¹å¼•å…¥æ’ä»¶ï¼Œå¹¶åœ¨ `extends` æˆ– `rules` ä¸­åº”ç”¨æ’ä»¶çš„è§„åˆ™ã€‚

```json
{
  "plugins": [
    "react",    // ä½¿ç”¨ react æ’ä»¶
    "import"    // ä½¿ç”¨ import æ’ä»¶
  ],
  "extends": [
    "plugin:react/recommended",  // ä½¿ç”¨æ’ä»¶ä¸­çš„æ¨èè§„åˆ™
    "plugin:import/errors"      // ä½¿ç”¨ plugin:import çš„é”™è¯¯è§„åˆ™
  ]
}
```

âœ… **`plugin:react/recommended`** ä¼šè‡ªåŠ¨å¯ç”¨ React æ’ä»¶çš„æ¨èè§„åˆ™ï¼Œå¸®åŠ©ä½ ç¡®ä¿ React é¡¹ç›®çš„ä»£ç è§„èŒƒã€‚

## **2. å®‰è£…å’Œä½¿ç”¨ ESLint æ’ä»¶**

### **2.1 `eslint-plugin-react`**

è¿™æ˜¯ä¸€ä¸ªéå¸¸æµè¡Œçš„ ESLint æ’ä»¶ï¼Œä¸“é—¨ç”¨äº**React é¡¹ç›®çš„é™æ€æ£€æŸ¥**ã€‚å®ƒåŒ…å«äº†è®¸å¤šé’ˆå¯¹ React çš„æœ€ä½³å®è·µè§„åˆ™ã€‚

#### **2.1.1 å®‰è£…ä¸é…ç½®**

```bash
npm install --save-dev eslint-plugin-react
```

```json
{
  "plugins": ["react"],
  "extends": ["plugin:react/recommended"],
  "rules": {
    "react/prop-types": "off",  // ç¦ç”¨ prop-types æ£€æŸ¥
    "react/jsx-uses-react": "off",  // React 17+ ç‰ˆæœ¬æ”¯æŒè‡ªåŠ¨å¯¼å…¥ React
    "react/react-in-jsx-scope": "off"
  }
}
```

### **2.2 `eslint-plugin-import`**

`eslint-plugin-import` æ’ä»¶ç”¨äº**æ£€æŸ¥ ES6+ å¯¼å…¥è¯­æ³•**ã€‚å®ƒå¸®åŠ©å¼€å‘è€…é¿å…å¯¼å…¥é”™è¯¯ã€ç¼ºå¤±çš„æ–‡ä»¶å’Œæ¨¡å—ï¼Œå¹¶ç¡®ä¿ä»£ç çš„æ¨¡å—åŒ–æ€§ã€‚

#### **2.2.1 å®‰è£…ä¸é…ç½®**

```bash
npm install --save-dev eslint-plugin-import
```

```json
{
  "plugins": ["import"],
  "extends": ["plugin:import/errors", "plugin:import/warnings"],
  "rules": {
    "import/no-unresolved": "error", // ç¡®ä¿æ¨¡å—è·¯å¾„æ˜¯æ­£ç¡®çš„
    "import/named": "error"         // ç¡®ä¿å‘½åå¯¼å…¥æ˜¯æœ‰æ•ˆçš„
  }
}
```

### **2.3 `eslint-plugin-jsx-a11y`**

è¯¥æ’ä»¶æä¾›äº†ä¸€äº›**å…³äºæ— éšœç¢æ€§ï¼ˆa11yï¼‰**çš„è§„åˆ™ï¼Œå¸®åŠ©å¼€å‘è€…ç¡®ä¿ React ç»„ä»¶å’Œ HTML å…ƒç´ å¯¹æ®‹éšœäººå£«çš„å‹å¥½åº¦ã€‚

#### **2.3.1 å®‰è£…ä¸é…ç½®**

```bash
npm install --save-dev eslint-plugin-jsx-a11y
```

```json
{
  "plugins": ["jsx-a11y"],
  "extends": ["plugin:jsx-a11y/recommended"]
}
```

## **3. `plugin:<plugin-name>/recommended` é»˜è®¤è§„åˆ™æ‰©å±•**

è®¸å¤š ESLint æ’ä»¶éƒ½æä¾›äº†**é»˜è®¤çš„è§„åˆ™æ‰©å±•**ï¼Œè¿™äº›æ‰©å±•è§„åˆ™é›†é€šå¸¸åŒ…å«äº†æ’ä»¶ä½œè€…æ¨èçš„æœ€ä½³å®è·µï¼Œå¼€å‘è€…å¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œé¿å…æ‰‹åŠ¨é…ç½®æ¯ä¸ªè§„åˆ™ã€‚

### **3.1 ç¤ºä¾‹ï¼š`eslint-plugin-react` æ¨èè§„åˆ™**

```json
{
  "extends": [
    "plugin:react/recommended"  // è‡ªåŠ¨å¯ç”¨ React æ’ä»¶çš„æ¨èè§„åˆ™
  ]
}
```

ğŸ“Œ **`plugin:react/recommended`** ä¼šè‡ªåŠ¨å¯ç”¨ä¸€äº›é’ˆå¯¹ React çš„è§„åˆ™ï¼Œå¦‚ï¼š

- **`react/prop-types`**ï¼šç¡®ä¿å¯¹ props è¿›è¡Œç±»å‹æ£€æŸ¥ã€‚
- **`react/jsx-uses-react`**ï¼šç¡®ä¿ JSX æ­£ç¡®åœ°ä½¿ç”¨ Reactã€‚

### **3.2 ç¤ºä¾‹ï¼š`eslint-plugin-import` æ¨èè§„åˆ™**

```json
{
  "extends": [
    "plugin:import/errors",      // å¯ç”¨å¯¼å…¥é”™è¯¯æ£€æŸ¥è§„åˆ™
    "plugin:import/warnings"     // å¯ç”¨å¯¼å…¥è­¦å‘Šè§„åˆ™
  ]
}
```

ğŸ“Œ **`plugin:import/errors` å’Œ `plugin:import/warnings`** ä¼šå¯ç”¨ä¸å¯¼å…¥ç›¸å…³çš„é”™è¯¯æ£€æŸ¥å’Œè­¦å‘Šæ£€æŸ¥è§„åˆ™ã€‚

## **4. æ‰©å±•é…ç½®**

### **4.1 ä½¿ç”¨ `eslint-config-airbnb` ç­‰æµè¡Œé…ç½®**

ä¸€äº›æµè¡Œçš„ ESLint é…ç½®é›†ï¼ˆå¦‚ `eslint-config-airbnb`ï¼‰ä¸ºå¼€å‘è€…æä¾›äº†é¢„å…ˆé…ç½®å¥½çš„è§„åˆ™ï¼Œå¸®åŠ©å¼€å‘è€…éµå¾ªä¸€äº›æœ€ä½³å®è·µã€‚

#### **4.1.1 å®‰è£… `eslint-config-airbnb`**

```bash
npm install --save-dev eslint-config-airbnb eslint-plugin-import eslint-plugin-react eslint-plugin-jsx-a11y
```

#### **4.1.2 ä½¿ç”¨ `eslint-config-airbnb` é…ç½®**

```json
{
  "extends": ["airbnb", "plugin:react/recommended"]
}
```

ğŸ“Œ **`eslint-config-airbnb`** åŒ…å«äº†ä¸€äº›æµè¡Œçš„è§„åˆ™ï¼Œå¦‚ï¼š

- ä½¿ç”¨ `2` ä¸ªç©ºæ ¼ç¼©è¿›ã€‚
- å¼ºåˆ¶ä½¿ç”¨åŒå¼•å·ã€‚
- ç¦ç”¨ `console`ã€‚
- è¦æ±‚ç»„ä»¶çš„ `propTypes` ç±»å‹å®šä¹‰ã€‚

### **4.2 è‡ªå®šä¹‰è§„åˆ™é›†çš„åˆ›å»ºå’Œç®¡ç†**

åœ¨å¤§å‹é¡¹ç›®ä¸­ï¼Œä½ å¯èƒ½éœ€è¦æ ¹æ®å…·ä½“éœ€æ±‚åˆ›å»ºè‡ªå·±çš„ ESLint è§„åˆ™é›†ã€‚è¿™å¯ä»¥é€šè¿‡å°†å¸¸ç”¨çš„è§„åˆ™é›†åˆæˆä¸€ä¸ªç‹¬ç«‹çš„é…ç½®æ–‡ä»¶æ¥å®ç°ã€‚

#### **4.2.1 åˆ›å»ºè‡ªå®šä¹‰è§„åˆ™é›†**

1. åœ¨é¡¹ç›®ä¸­åˆ›å»º `.eslintrc-custom.js` æ–‡ä»¶ï¼š

```javascript
module.exports = {
  extends: [
    "eslint:recommended",
    "plugin:react/recommended"
  ],
  rules: {
    "no-console": "warn",
    "no-unused-vars": "error",
  },
};
```

2. åœ¨ä¸»é¡¹ç›®çš„ `.eslintrc` ä¸­å¼•ç”¨è‡ªå®šä¹‰è§„åˆ™é›†ï¼š

```json
{
  "extends": [
    "./.eslintrc-custom.js"
  ]
}
```

ğŸ“Œ **ä¼˜ç‚¹ï¼š**

- é€šè¿‡**é›†ä¸­ç®¡ç†è§„åˆ™é›†**ï¼Œå‡å°‘åœ¨å¤šä¸ªé¡¹ç›®ä¸­å¤åˆ¶ç²˜è´´é…ç½®æ–‡ä»¶çš„å†—ä½™ã€‚
- **ç»Ÿä¸€å›¢é˜Ÿå¼€å‘è§„èŒƒ**ï¼Œä¾¿äºç®¡ç†å’Œç»´æŠ¤ã€‚

## **æ€»ç»“**

### **âœ… æ’ä»¶çš„ä½¿ç”¨**

1ï¸âƒ£ **é€šè¿‡ `npm` å®‰è£…æ’ä»¶**ï¼Œå¹¶åœ¨ `plugins` é…ç½®é¡¹ä¸­å¼•ç”¨æ’ä»¶ã€‚  
2ï¸âƒ£ **ä½¿ç”¨ `plugin:<plugin-name>/recommended` è§„åˆ™æ‰©å±•**ï¼Œé¿å…æ‰‹åŠ¨é…ç½®æ‰€æœ‰è§„åˆ™ã€‚

### **âœ… å¸¸è§çš„æ’ä»¶**

3ï¸âƒ£ **`eslint-plugin-react`**ï¼šç”¨äº React é¡¹ç›®çš„é™æ€ä»£ç åˆ†æã€‚  
4ï¸âƒ£ **`eslint-plugin-import`**ï¼šç”¨äºå¯¼å…¥å’Œæ¨¡å—è§£æçš„è§„åˆ™æ£€æŸ¥ã€‚  
5ï¸âƒ£ **`eslint-plugin-jsx-a11y`**ï¼šç”¨äºæ— éšœç¢æ€§ï¼ˆa11yï¼‰æ£€æŸ¥ã€‚

### **âœ… ä½¿ç”¨æµè¡Œçš„é…ç½®é›†**

6ï¸âƒ£ **`eslint-config-airbnb`**ï¼šæä¾›äº†ç¬¦åˆ Airbnb é£æ ¼æŒ‡å—çš„å¸¸ç”¨è§„åˆ™ã€‚

### **âœ… è‡ªå®šä¹‰è§„åˆ™é›†**

7ï¸âƒ£ **é€šè¿‡è‡ªå®šä¹‰é…ç½®æ–‡ä»¶ç®¡ç†è§„åˆ™é›†**ï¼Œå®ç°ä¸ªæ€§åŒ–å’Œå›¢é˜Ÿç»Ÿä¸€çš„ç¼–ç è§„èŒƒã€‚

ğŸš€ **ä¸‹ä¸€ç« ï¼Œæˆ‘ä»¬å°†æ·±å…¥æ¢è®¨ ESLint çš„è°ƒè¯•å’Œæ€§èƒ½ä¼˜åŒ–ï¼Œå¸®åŠ©ä½ æ›´å¥½åœ°è°ƒè¯•å’Œæå‡å¼€å‘æ•ˆç‡ï¼**
